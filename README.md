# fast-discMap
very fast key value store 简单，快速的键值储存。特别为小文件储存设计，比如图片文件。把小文件存数据库中不是理想的选择。存在文件系统中又有太多小文件难管理
# 用到的框架
用到kryo序列化框架
# 文件存储其实就是可以和内存存储类比。
内存的地址是操作系统为我们管理，不用我们关心，比如String s=new String（）这样就新建了一个对象，我们用s指针操作这个对象。
对象在文件中的地址用地址偏离量表示。实现write函数 write一个对象，返回这个偏离量就可以了，这里的地址是页面地址。

# 结构
* 文件分页，一个页面大小暂为4KB
* 位图管理空闲页面，如果需要4g文件的大小，那么位图大小需要4g=2^32/2^12=2^20页=2^20/8/2^12=2^9=2^5=32个页面。文件头32个页面是位图信息
* 文件存储为2中对象，一种是map，一种是mapNode。
* 一个页面的存储内容为：类型；内容大小，具体内容；页面后面2个字节为后面的页面地址，如果是0，就是没有更多页面内容。
* 内存映射文件，根据页面index直接可以得到bytebuff。
* 如果页面超过位图能表示的范围，那么应该新建文件，不过本项目没有考虑。。。

